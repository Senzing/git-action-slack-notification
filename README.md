# Git Action Slack Notification

Git Action to send messages to Slack. This action can be used to send message about the status of a Git Action workflow. 

## Usage 

This action can be used after any other action. Below is simple example on using it:

1\. Create a `.github/workflows/git-action-slack-notification.yml`

2\. Add the following properties to `git-action-slack-notification.yml` file

```yaml
on: push
name: Slack Notification Demo
jobs:
    slackNotification:
      name: Slack Notification Demo
      runs-on: ubuntu-latest
      steps:
      - uses: actions/checkout@master
      - name: Slack Notification Demo
        uses: senzing/git-action-slack-notification@1.0.0
        env:
          SLACK_WEBHOOK: ${{ secrets.SLACK_WEBHOOK }}
          SLACK_TITLE: 'Slack Notification Demo'
          SLACK_MESSAGE: 'Demo''ing the Slack Notification'
```

Go [here](deployment/git-actions/template_git_action_slack_notification.yml) for a template yml with all environment variables.

3\. Generate Slack WebHook [here](https://entelexeia.slack.com/apps/A0F7XDUAZ-incoming-webhooks?next_id=0)

4\. Encrypt Slack Webhook as a secret in the repo using this app. 

## Environment Variables
These are the environment variables that can be set to pass in additional information about the Git Action.

<table>
    <tr>
        <td>
            Variable Name
        </td>
        <td>
            Required
        </td>
        <td>
            Description
        </td>
    </tr>
    <tr>
        <td>
            SLACK_WEBHOOK
        </td>
        <td>
            Yes
        </td>
        <td>
            The Webhook URL generated by Slack to send messages too.
        </td>
    </tr>
    <tr>
        <td>
            SLACK_TITLE
        </td>
        <td>
            Yes
        </td>
        <td>
            Title of the Slack message being sent.
        </td>
    </tr>
    <tr>
        <td>
            SLACK_MESSAGE
        </td>
        <td>
            Yes
        </td>
        <td>
            The message payload to be sent to Slack
        </td>
    </tr>
    <tr>
        <td>
            SLACK_ICON
        </td>
        <td>
            No
        </td>
        <td>
            The Slack user icon to use instead of the default
        </td>
    </tr>
    <tr>
        <td>
            SLACK_CHANNEL
        </td>
        <td>
            No
        </td>
        <td>
            The Slack channel to use instead of the default
        </td>
    </tr>
    <tr>
        <td>
            SLACK_COLOR
        </td>
        <td>
            No
        </td>
        <td>
            Format color to use for the Slack message
        </td>
    </tr>
    <tr>
        <td>
            SLACK_USERNAME
        </td>
        <td>
            No
        </td>
        <td>
            The Slack username to use instead of the default
        </td>
    </tr>
    <tr>
        <td>
            GITHUB_ACTOR
        </td>
        <td>
            No
        </td>
        <td>
            GitHub Actor variable passed from Git Actions
        </td>
    </tr>
    <tr>
        <td>
            GITHUB_REPOSITORY
        </td>
        <td>
            No
        </td>
        <td>
            GitHub Repository variable passed from Git Actions
        </td>
    </tr>
    <tr>
        <td>
            GITHUB_REF
        </td>
        <td>
            No
        </td>
        <td>
            GitHub reference variable passed from Git Actions
        </td>
    </tr>
    <tr>
        <td>
            GITHUB_ACTION
        </td>
        <td>
            No
        </td>
        <td>
            GitHub Action name variable passed from Git Actions
        </td>
    </tr>
    <tr>
        <td>
            GITHUB_EVENT_NAME
        </td>
        <td>
            No
        </td>
        <td>
            GitHub Action event name variable passed from Git Actions
        </td>
    </tr>
    <tr>
        <td>
            GITHUB_WORKFLOW
        </td>
        <td>
            No
        </td>
        <td>
            GitHub Action workflow varaible passed from Git Actions
        </td>
    </tr>
</table>

## Reference
* [Using environment variables](https://help.github.com/en/actions/automating-your-workflow-with-github-actions/using-environment-variables) lists the default environment variables set in Git Actions.

## License
[Apache 2](LICENSE)